<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Marvel Characters!</title>

<!--  Bootstrap and Custom Style Sheet -->
<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="css/marvel_superheroes_style.css">

    <!-- Bootstrap: Latest Compiled and Minified CSS
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        ** Bootstrap: Optional theme 
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
        ** Placeholder for Google Fonts reference:
    <link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet" type="text/css">
    -->

<!-- Latest compiled and minified JavaScript and jQuery (CDN) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- More simplified jQuery reference
    <script src="https://code.jquery.com/jquery.js"></script>
    -->

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <!-- For Customizing any Bootstrap JavaScript, we would use the link below instead: 
    <script src="js/bootstrap.min.js"></script>
    -->

  <!-- Link to Moment.js -->
<script src="https://cdn.jsdelivr.net/momentjs/2.12.0/moment.min.js"></script>

  <!-- Link to Firebase -->
<script src="https://www.gstatic.com/firebasejs/4.9.1/firebase.js"></script>

  </head>

  <body>
    <div class="container">

      <div class="page-header">
         <h2 class="text-center">Marvel Superhero Database</h2>
         <h3 class="text-center">Marvel Characters Image and Movie Reference</h3>
      </div>

      <div id="navBar1">

<!-- col means column, md >=992px (Also use xs, sm and lg), and the 3 represents the size of the column
3 * 4 = 12 (A 6 column layout would use 2 if they had equal size) -->
      <div class="row">

        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
  <!-- Drop Down Menus -->
          <div class="dropdown">

            <button class="btn btn-primary dropdown-toggle btn-lg" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
          Select a Marvel Superhero!
          <!-- Display icon in button -->
            <span class="caret"></span>
            </button>

            <ul class="dropdown-menu">
              <li class="dropdown-header">Marvel Characters: Top 10</li>
              <li><a data-name="Spider-Man" class="character" href="#">Spider-Man</a></li>
              <li><a data-name="Captain America" class="character" href="#">Captain America</a></li>
              <li><a data-name="Wolverine" class="character" href="#">Wolverine</a></li>
              <li><a data-name="Daredevil" class="character" href="#">Daredevil</a></li>
              <li><a data-name="Dr. Doom" class="character" href="#">Dr. Doom</a></li>
              <li><a data-name="Magneto" class="character" href="#">Magneto</a></li>
              <li><a data-name="Thor" class="character" href="#">Thor</a></li>
              <li><a data-name="Incredible Hulk" class="character" href="#">Incredible Hulk</a></li>
              <li><a data-name="Iron Man" class="character" href="#">Iron Man</a></li>
              <li><a data-name="Cyclops" class="character" href="#">Cyclops</a></li>
  <!-- Separator for menu list -->
  <!-- <li role="separator" class="divider"></li>  -->
            </ul>
          </div>
        </div>

        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
          <div class="dropdown">

            <button class="btn btn-primary dropdown-toggle btn-lg" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
          Select a Marvel Superhero!
          <!-- Display icon in button -->
            <span class="caret"></span>
            </button>

            <ul class="dropdown-menu">
              <li class="dropdown-header">Marvel Characters: #11-20</li>
              <li><a data-name="The Thing" class="character" href="#">The Thing</a></li>
              <li><a data-name="Deadpool" class="character" href="#">Deadpool</a></li>
              <li><a data-name="Storm" class="character" href="#">Storm</a></li>
              <li><a data-name="Hawkeye" class="character" href="#">Hawkeye</a></li>
              <li><a data-name="Kitty Pryde" class="character" href="#">Kitty Pryde</a></li>
              <li><a data-name="Nightcrawler" class="character" href="#">Nightcrawler</a></li>
              <li><a data-name="Captain Marvel" class="character" href="#">Captain Marvel</a></li>
              <li><a data-name="She-Hulk" class="character" href="#">She-Hulk</a></li>
              <li><a data-name="Dr. Strange" class="character" href="#">Dr. Strange</a></li>
              <li><a data-name="Jean Grey" class="character" href="#">Jean Grey</a></li>
            </ul>
          </div>
        </div>

<!-- Clearfix div (if necessary for responsive design)
    <div class="clearfix visible-sm"></div>   -->

        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
          <div class="dropdown">
            <button class="btn btn-primary dropdown-toggle btn-lg" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
          Select a Marvel Top-10 Movie
          <!-- Display icon in button -->
            <span class="caret"></span>
            </button>

            <ul class="dropdown-menu">
              <li class="dropdown-header">Marvel Movies: Top 10</li>
             <li><a id="movie1" class="movies" href="#" value="iron+man" data-movie="iron%2Bman" data-year="2008" data-index="0"> 1. Iron Man</a></li>              
              <li><a id="movie2" class="movies" href="#" value="Thor:+Ragnarok" data-movie="thor%2Bragnarok" data-year="2017" data-index="1"> 2. Thor: Ragnarok</a></li>
              <li><a id="movie3" class="movies" href="#" value="the+avengers" data-movie="the%2Bavengers" data-year="2012" data-index="2"> 3. The Avengers</a></li>
              <li><a id="movie4" class="movies" href="#" value="spider+man+homecoming" data-movie="spider-man%2Bhomecoming" data-year="2017" data-index="3"> 4. Spider-Man: Homecoming</a></li>
              <li><a id="movie5" class="movies" href="#" value="Guardians+of+the+galaxy" data-movie="guardians%2Bof%2Bthe%2Bgalaxy" data-year="2014" data-index="4"> 5. Guardians of the Galaxy</a></li>
              <li><a id="movie6" class="movies" href="#" value="captain+america+civil+war" data-movie="captain%2Bamerica%2Bcivil%2Bwar" data-year="2016" data-index="5"> 6. Captain America: Civil War</a></li>
              <li><a id="movie7" class="movies" href="#" value="doctor+strange" data-movie="doctor%2Bstrange" data-year="2016" data-index="6"> 7. Doctor Strange</a></li>
              <li><a id="movie8" class="movies" href="#" value="captain+america+the+winter+soldier" data-movie="captain%2Bamerica%2Bthe%2Bwinter%2Bsoldier" data-year="2014" data-index="7"> 8. Captain America: The Winter Soldier</a></li>
              <li><a id="movie9" class="movies" href="#" value="guardians+of+the+galaxy+vol+2" data-movie="guardians%2Bof%2Bthe%2Bgalaxy%2Bvol%2B2" data-year="2017" data-index="8"> 9. Guardians of the Galaxy Vol. 2</a></li>
              <li><a id="movie10" class="movies" href="#" value="ant+man" data-movie="ant-man" data-year="2015" data-index="9">10. Ant-Man</a></li>
            </ul>
          </div>
        </div>

<!-- Search Bar In-Line -->
        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
          <div class="dropdown" id="userCharacterRequest">Request a Marvel character here:
            <form class="navbar-form push-left" role="search">
                <input type="text" class="form-control" id="characterInput" placeholder="Search">
            <button type="submit" id="inputButton" class="btn btn-default">Submit</button>

            </form>
          </div>
        </div>

<!-- ".row" finish -->
    </div>
  </div>

  <div class="row">

<!-- Carousel -->
<!-- Surround everything with a div with the class carousel slide -->
    <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">
      <div id="theCarousel" class="carousel slide" data-ride="carousel">
       
        <!-- Define how many slides to put in the carousel -->
        <ol class="carousel-indicators">
          <li data-target="#theCarousel" data-slide-to="0" class="active"> </li >
          <li data-target="#theCarousel" data-slide-to="1"> </li>
          <li data-target ="#theCarousel" data-slide-to="2"> </li>
        </ol >
       
         <div class="carousel-inner">

             <div class="item active" >
               <div id="poster" class ="slide1 float-right  "></div>
            </div>

            <div class="item">
               <div id="video" class="slide2"></div>
            </div>

            <div class="item">
               <div id="plot" class="slide3"></div>
            </div>
          </div>

        <a class="left carousel-control" href="#theCarousel" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left"> </span>
        </a>
        <a class="right carousel-control" href="#theCarousel" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right"></span>
        </a>
      </div>
    </div>

    <aside id="character_bio" data-spy="scroll" class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
      <h4 id="characterName">Character Bio and Synopsis</h4>
      <p id="realName"></p>
      <p id="birthDate"></p> 
<!--  <p id="description">Character reference information here</p> <br> -->
    </aside>

<!-- BOOTSTRAP MODAL -->
    <div class="modal fade" tabindex="-1" role="dialog" id="myModal">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title"><title></title></h4>
          </div>
          <!-- <div class="modal-body"> -->
            <!-- <p>Please Enter a Valid Marvel Character&hellip;</p> -->
          <!-- </div> -->
          <div class="modal-footer">
            <p id="modalComment">Hulk Smash! Quick, enter a Marvel character before Hulk comes to smash you!&hellip;</p>
            <button type="button" class="btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

  <!-- ".row" finish -->  
    </div>


    <!-- <button class="btn btn-primary dropdown-toggle btn-lg" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">

    <h3><a href="#" target="_blank" onmouseover="this.style.color = 'green';" onmouseout="this.style.color = 'purple';"> <b>Tickets to Meet Your Superhero at ComicCon</b> </a> </h3>

    <h4><a href="#userComm4" data-toggle="collapse">Column 2</a></h4>
    <div id="userComm4" class="collapse in">Quisque rutrum augue odio, eu placerat diam bibendum id. Donec at fringilla leo, non varius magna. Vestibulum finibus, lacus at gravida condimentum, tellus mauris imperdiet orci, a pretium justo nulla sit amet nunc. Class aptent taciti sociosqu ad litora torquent per conubia.</div>


    <a href="https://www.youtube.com/watch?v=LWQbuJ24Wzg" target="_blank" onmouseover="this.style.color = 'green';" onmouseout="this.style.color = 'purple';">
     Video of Andrea Bocelli and Sarah Brightman </a>
    <br><br>

    <a href="https://www.youtube.com/watch?v=LWQbuJ24Wzg" target="_blank"><img src="Andrea_Bocelli_and_Sarah_Brightman_Concert.jpg" height="470" width="560" alt="Andrea Bocelli and Sarah Brightman performing"/></a>
 -->

  <br clear="all" /> 
 
  <div id="image_gallery"> 
    <h4>Character Images Here</h4>
    <div display: inline-block>
      <img src="images/captainmarvel1.jpg" class="scaled"/>
      <img src="images/jeangrey1.jpg" class="scaled"/>
      <img src="images/kittypryde1.jpg" class="scaled"/>
      <img src="images/magneto1.jpg" class="scaled"/>
      <img src="images/storm1.jpg" class="scaled"/>
    </div>
  </div> <br>

  <br clear="all" />

  <div id="userComm2"> 
    <h4>Form control -- two input options below:</h4>

    <div id="userComm3">
       <form>
          <div class="form-group">
             <label for="character-input">Request a Marvel Character:</label>
             <input type="text" class="form-control" id="character-input">
           </div>
       </form>
       <form>
          <div class="form-group">
             <label for="character-input">Second request category (if supported):</label>
             <input type="text" class="form-control" id="action-input">
          <!-- Button triggers new character name to be added -->
          <input id="add-character" type="submit" value="Submit">
          </div>
        </form>
    </div>
  </div>

    <div>  
      <iframe src='https://cdn.knightlab.com/libs/timeline3/latest/embed/index.html?source=1V2P56ypAvRyjOcx0N13r9dE54R64y1K8FwzNyA4LITQ&font=Default&lang=en&initial_zoom=2&height=400' width='100%' height='400' webkitallowfullscreen mozallowfullscreen allowfullscreen frameborder='0'></iframe>
    </div>


  <script type="text/javascript" src="marvel.js">


/*
  <!-- Well for YouTube video player -->
    <div id="videoPlayer1"></div>

  <!-- Well for Vimeo video player -->
    <div id="videoPlayer2"></div>

  <!-- Load Vimeo video player API -->
<script src="https://player.vimeo.com/api/player.js">
*/

/*
$(document).ready(function() {
console.log("document loaded");


//  "Marvel Avengers Infinity War" Movie Trailer
//  var trailer = "https://www.youtube.com/watch?v=gbK2U4gO4vU"
    var movieName = $("").val();
    var movieYear = $("").val();
    var vidId = "gbK2U4gO4vU"

//  Embed YouTube video player
    $('#videoPlayer1').html("<iframe width='900' height='580' src='https://www.youtube.com/embed/" + vidId + "' frameborder='0' allowfullscreen>");

//  Embed Vimeo video player
    $('#videoPlayer2').html('<iframe src="http://player.vimeo.com/video/62983426?title=1&amp;byline=1&amp;portrait=1" width="900" height="580" frameborder="0" allowfullscreen></iframe>');

  });




    function modal() {
        $('#myModal').modal('show');
    }

    $("#inputButton").on("click", function() {
        //Prevents the document from reloading
        event.preventDefault();

        //Global variables
        var mykey = config.MY_KEY;
        var comicName = $("#characterInput").val().trim();

        $("#characterInput").text("");

        var queryURL = "https://comicvine.gamespot.com/api/characters/?api_key=" + mykey + "&filter=name:" + comicName + "&limit=100&format=json";
        
        // var queryURL = "https://comicvine.gamespot.com/api/series_list/?api_key=" + apiKey + "&format=json";
        var proxy = 'https://cors-anywhere.herokuapp.com/';
            
        //Boolean variable for character matching
        var charFound = false;

        //Boolean variable for publisher matching
        var isMarvel = false;

        //AJAX API call to ComicVine    
        $.ajax({
          url: proxy + queryURL,
          method: 'GET'
        }).done(function(response) {
          console.log(response.results);

            for (var i = 0; i < response.results.length; i++) {
                // debugger;
                var character = response.results[i];
                // console.log(character);
                //Targets character key
                var characterName = character.name; 
                
                //Targets publisher key
                var characterPublisher = character.publisher;
                
                var characterImage = character.image.original_url;
                // console.log(characterImage);
                
                //Targets publisher name key
                var publisherName = characterPublisher.name;   
                
                //Lower cases the returned string 
                var lcCharacterName = characterName.toLowerCase();
                // console.log(lcCharacterName);
                
                //Lower cases the user input string
                var lcComicName = comicName.toLowerCase();
                console.log(lcComicName);
                
                //Assigns the response id value to originId
                var originId = response.results[i].id;

                if (lcCharacterName === lcComicName) {     
                    charFound = true;
                    break;
                }
            }
            
            if (charFound) {
                 if (publisherName === "Marvel") {
                    isMarvel = true;
                }
                 else {
                   modal();
                }
            }
            console.log(characterImage);
            if (isMarvel) {
                $("#characterName").text("Character Name: " + characterName);
                //Add name to slide 1
                $("#marvel1").text(characterName);
                $("#realName").text("Real Name: " + character.real_name);
                $("#birthDate").text("Birth Date: " + character.birth);
                // $("#description").html("<div>" + character.description + "</div>");
                $("#character_bio").append("<div>" + character.description + "</div>");
                // $(".slide1").css("background-image", "url(characterImage)");
                $(".slide1").html("<img src=" + characterImage + " height=" + 500 + " width=" + 806.25 + "></img>");
            }
        });
    });
});

//ALTERNATIVE ALIAS CODE
// console.log(lcComicName);
            // var characterAlias = response.results[i].aliases;    

            // var lcCharacterAlias = characterAlias.toLowerCase();

            // var enter = '\n';

            // var arrayOfAlias = lcCharacterAlias.split(enter);
            
            // var index = arrayOfAlias.indexOf(comicName)





/*
// display comic info function
    function displayComicInfo() {
    // grabbing user input
        debugger;
        var characterName = $('#characterSearch').val();
        console.log(characterName);

    // Variables needed for the hash
        var ts = new Date().getTime(); 
        var PRIV_KEY = "3499aabd8ee3bb9d5eecc7291c61677eb88ed4f6"
        var API_KEY = "665fa53043b7e63a68ee728c296f464a";
        var hash = CryptoJS.MD5(ts+PRIV_KEY + API_KEY).toString();

    // apikey for the end of the url
        var apiKey = "665fa53043b7e63a68ee728c296f464a";

    // url to pass through the ajax call
        var url = "https://gateway.marvel.com/v1/public/characters?name=Wolverine&ts=" + ts + "&hash=" + hash + "&apikey=" + apiKey;
        console.log(url);

    // ajax call
        $.ajax({ url: url, method: "GET" }).done(function(data) {
            var refinedResults = data.data.results[0];
            console.log(characterName); 
            console.log(refinedResults); 
    
         });
      }

    displayComicInfo();

    $('#characterSubmit').on('click', function(){
        displayComicInfo();
      });

    });

*/


/*
var AES = require("crypto-js/aes");
var SHA256 = require("crypto-js/sha256");
console.log(SHA256("Message"));
var CryptoJS = require("crypto-js");
console.log(CryptoJS.HmacSHA1("Message", "Key"));

var cryptoBrowserify = require("crypto-browserify");

// you will also have to setup the referring domains on your marvel developer portal
var PRIV_KEY = "40635f573fbcebf38554244d0cbccb088c4dc5f1";
var PUBLIC_KEY = "61c13c71ff114a82ab22fefdae73ef45";

// the api deals a lot in ids rather than just the strings you want to use
  var characterId = '1009718'; // wolverine  

  var queryURL = "http://gateway.marvel.com:80/v1/public/comics/search?q=" + characterId + "&public_key=61c13c71ff114a82ab22fefdae73ef45";

    $.ajax({
      url: queryURL,
      method: "GET"
    }).done(function(response) {
        console.log(response);
    });

function getMarvelResponse() {

  // you need a new ts every request                                                                                    
  var ts = new Date().getTime();
  var hash = CryptoJS.MD5(ts + PRIV_KEY + PUBLIC_KEY).toString();                                                           

  var url = 'http://gateway.marvel.com:80/v1/public/comics';

  console.log(url);
  $.getJSON(url, {
    ts: ts,
    apikey: PUBLIC_KEY,
    hash: hash,
    characters: characterId
    })
    .done(function(data) {
      // sort of a long dump you will need to sort through
      console.log(data);
    })
    .fail(function(err){
      // the error codes are listed on the dev site
      console.log(err);
    });
};

getMarvelResponse();
*/

  </script>
    
  </div>
</body>
</html>